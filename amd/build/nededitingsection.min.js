/**
 * NED Format
 *
 * @package    format_ned
 * @subpackage NED
 * @copyright  NED {@link http://ned.ca}
 * @author     NED {@link http://ned.ca}
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @developer  G J Barnard - {@link http://about.me/gjbarnard} and
 *                           {@link http://moodle.org/user/profile.php?id=442195}
 */
/* jshint ignore:start */
define(["jquery","core/log"],function(a,b){return b.debug("NED Format Editing Section AMD"),{init:function(c){a(document).ready(function(a){var b=function(){a("ul.nededitingsection li.section").each(function(){var b=a(this).find(".compressedmodeviewhide .compressedmodeviewhideformat"),c=a(this).find(".compressedmodeviewhide .sectioname"),d=a(this).find(".compressedmodeviewhide .summary");a(this).find(".content .section").hide(),a(this).find(".content .addresourcemodchooser").hide(),a(this).hasClass("open")&&(a(this).removeClass("open").addClass("closed"),b.length&&b.show(),d.length&&d.hide(),c.length&&c.show())})},d=function(){a("ul.nededitingsection li.section").each(function(){var b=a(this).find(".compressedmodeviewhide .compressedmodeviewhideformat"),c=a(this).find(".compressedmodeviewhide .sectioname"),d=a(this).find(".compressedmodeviewhide .summary");a(this).find(".content .section").show(),a(this).find(".content .addresourcemodchooser").show(),a(this).hasClass("closed")&&(a(this).removeClass("closed").addClass("open"),b.length&&b.hide(),d.length&&d.show(),c.length&&c.hide())})},e=function(a){var b=a.find(".compressedmodeviewhide .compressedmodeviewhideformat"),c=a.find(".compressedmodeviewhide .sectioname"),d=a.find(".compressedmodeviewhide .summary");a.find(".content .section").toggle(),a.find(".content .addresourcemodchooser").toggle(),a.hasClass("closed")?(a.removeClass("closed").addClass("open"),b.length&&b.hide(),d.length&&d.show(),c.length&&c.hide()):(a.removeClass("open").addClass("closed"),b.length&&b.show(),d.length&&d.hide(),c.length&&c.show())};
// Initial page load.
if(c.nedsectionstate==c.allexpanded)d();else if(b(),c.nedsectionstate>0){var f=a(".section#section-"+c.nedsectionstate);f.length&&e(f)}
// Individual toggles on the page after load.
a("ul.nededitingsection li.section .left .nededitingsectionpix").click(function(b){var c=a(this).parent(".left").parent(".section");e(c)}),
// All toggles compress.
a("#nededitingsectioncompressed").click(b),
// All toggles expand.
a("#nededitingsectionexpanded").click(d)}),b.debug("NED Format Editing Section AMD init.")}}});