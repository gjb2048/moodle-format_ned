/**
 * NED Format
 *
 * @package    format_ned
 * @subpackage NED
 * @copyright  NED {@link http://ned.ca}
 * @author     NED {@link http://ned.ca}
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @developer  G J Barnard - {@link http://about.me/gjbarnard} and
 *                           {@link http://moodle.org/user/profile.php?id=442195}
 */
/* jshint ignore:start */
define(["jquery","core/log"],function(a,b){return b.debug("NED Format Settings Form AMD"),function(a){"use strict";a.fn.sectionFormat=function(){var c=a("#nedsectionlocation"),d=a("#managecolourpresets"),e=a("#cpappliesto"),f=function(a){var f=a.find(":selected").val();b.debug("NED Format Settings Form AMD checkSelect chosen: "+f),0==f?(// Moodle default.
c.hide(),d.hide(),1==e.length&&e.hide()):2==f?(// Framed sections + Custom header.
c.show(),d.show(),1==e.length&&e.hide()):3==f?(// Framed sections + Formatted header.
c.hide(),
// Do we have at least one site section header format with a colour preset of 'NED Default' so the setting will have an effect?
1==e.length?(d.show(),e.show()):d.hide()):(// Effectively 1 being framed sections.
d.show(),c.hide(),1==e.length&&e.hide())};f(this),this.on("change",function(b){f(a(this))})}}(a),{init:function(){a(document).ready(function(a){a("select#id_sectionformat").sectionFormat()}),b.debug("NED Format Settings Form AMD init.")}}});