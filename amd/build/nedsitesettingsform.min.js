/**
 * NED Format
 *
 * @package    format_ned
 * @subpackage NED
 * @copyright  NED {@link http://ned.ca}
 * @author     NED {@link http://ned.ca}
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @developer  G J Barnard - {@link http://about.me/gjbarnard} and
 *                           {@link http://moodle.org/user/profile.php?id=442195}
 */
/* jshint ignore:start */
define(["jquery","core/log"],function(a,b){return b.debug("NED Format Site Settings Form AMD"),function(a){"use strict";a.fn.defaultSectionFormat=function(c){var d=c.defaultsectionformatoptionsdata,e=c.defaultsectionformatdefaultdata,f=a("#id_s_format_ned_defaultsectionformat"),g=function(c){var g=c.find(":selected").val();b.debug("NED Format Site Settings Form AMD checkSelect chosen: "+g);var h=f.find(":selected").val();
// Change the section format name values.
f.empty(),a.each(d,function(b,c){0==g&&2==b||// Hide formatted sections + custom header.
f.append(a("<option></option>").attr("value",b).text(c))});var i=h;0==g&&2==h&&(
// Cannot set back to what it was so set to default.
i=e),f.val(i).prop("selected","selected")};
// Initial check to remove the custom header option only if we are 'hide'.
0==this.find(":selected").val()&&g(this),this.on("change",function(b){g(a(this))})}}(a),{init:function(c){a(document).ready(function(a){a("select#id_s_format_ned_framedsectionscustomheader").defaultSectionFormat(c),window.JSON&&window.JSON.stringify&&b.debug("NED Format Site Settings Form AMD data: "+JSON.stringify(c))}),b.debug("NED Format Site Settings Form AMD init.")}}});